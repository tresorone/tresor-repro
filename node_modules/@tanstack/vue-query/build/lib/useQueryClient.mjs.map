{"version":3,"file":"useQueryClient.mjs","sources":["../../src/useQueryClient.ts"],"sourcesContent":["import { getCurrentInstance, inject } from 'vue-demi'\n\nimport { getClientKey } from './utils'\nimport type { QueryClient } from './queryClient'\n\nexport function useQueryClient(id = ''): QueryClient {\n  const key = getClientKey(id)\n  const queryClient = inject<QueryClient | null>(key, null)\n\n  if (!queryClient) {\n    const vm = getCurrentInstance()?.proxy\n\n    if (!vm) {\n      throw new Error(\n        'vue-query hooks can only be used inside setup() function.',\n      )\n    }\n\n    throw new Error(\n      \"No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.\",\n    )\n  }\n\n  return queryClient\n}\n"],"names":["useQueryClient","id","key","getClientKey","queryClient","inject","vm","getCurrentInstance","proxy","Error"],"mappings":";;;AAKO,SAASA,cAAT,CAAwBC,EAAE,GAAG,EAA7B,EAA8C;AACnD,EAAA,MAAMC,GAAG,GAAGC,YAAY,CAACF,EAAD,CAAxB,CAAA;AACA,EAAA,MAAMG,WAAW,GAAGC,MAAM,CAAqBH,GAArB,EAA0B,IAA1B,CAA1B,CAAA;;EAEA,IAAI,CAACE,WAAL,EAAkB;AAAA,IAAA,IAAA,mBAAA,CAAA;;AAChB,IAAA,MAAME,EAAE,GAAGC,CAAAA,mBAAAA,GAAAA,kBAAkB,EAArB,KAAA,IAAA,GAAA,KAAA,CAAA,GAAG,oBAAsBC,KAAjC,CAAA;;IAEA,IAAI,CAACF,EAAL,EAAS;AACP,MAAA,MAAM,IAAIG,KAAJ,CACJ,2DADI,CAAN,CAAA;AAGD,KAAA;;AAED,IAAA,MAAM,IAAIA,KAAJ,CACJ,iGADI,CAAN,CAAA;AAGD,GAAA;;AAED,EAAA,OAAOL,WAAP,CAAA;AACD;;;;"}